import{j as e,a_ as h,z as C,D as k,F as A,U as M,y as f}from"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad5010.js";import{a as u}from"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad504.js";import{c as E}from"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad5045.js";import{u as j}from"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad5026.js";import{r as b,n as P}from"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad5022.js";import{W as N,V as S}from"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad5018.js";import{u as x}from"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad5019.js";import{a as z}from"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad5059.js";import{a as g}from"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad50110.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad508.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad50.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad505.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad507.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad5021.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad509.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad5046.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad5039.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad5036.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad50108.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad50109.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad5035.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad506.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad502.js";import"./v_7_4_0_8_72a965e9-2917-4293-acb8-268c1a8cad503.js";function v({nt:a}){const{setNotificacoes_boxVisible:t,isBoxVisible:r}=b(),{language:c}=x(),o=n=>{n.stopPropagation(),n.preventDefault(),window.open(a.link,"_blank")};return e.jsxs("div",{className:"border border-base-200 p-2 rounded-lg w-full cursor-pointer hoverShadown",style:{borderStyle:"outset"},onClick:n=>{n.stopPropagation(),n.preventDefault(),t(a.id)},children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"relative -top-2 right-1 flex",children:[!r(a.id)&&e.jsx("span",{className:"m-auto",children:e.jsx(h,{className:"w-2 h-2 text-[var(--primaria)]"})}),a.type==="INFO"&&e.jsx(C,{className:"h-8 w-8 text-blue-500"}),a.type==="ALERT"&&e.jsx(k,{className:"h-8 w-8 text-red-500"}),a.type==="PROMOTION"&&e.jsx(A,{className:"h-8 w-8 text-yellow-500"})]}),e.jsx("span",{className:"text-xs",children:M.MillisToFormattedDate(a.data)})]}),e.jsx("h2",{className:"text-center text-lg font-medium -mt-4",children:a.title}),e.jsx("div",{className:"pb-2",children:e.jsx("p",{className:"py-4",dangerouslySetInnerHTML:{__html:a.statement.replace(/\_(.*?)\_/g,'<strong class="italic">$1</strong>').replace(/\*(.*?)\*/g,"<strong>$1</strong>").replace(/\n/g,"<br>")}})}),a.link&&e.jsx("div",{className:"relative",children:e.jsx("span",{onClick:o,children:e.jsxs("a",{className:"absolute right-0 bottom-[-2px] link flex gap-1 items-center text-[var(--primaria)]",target:"_blank",children:[e.jsx(z,{strokeWidth:3,className:"h-5 w-5 text-[var(--primaria)]"}),a.btnName.length!==0?a.btnName:c.cliqueAqui]})})})]},a.id)}function T(){const{renderNotificacoes_box:a}=b();return e.jsx("div",{className:"grid gap-2 p-2 overflow-auto",style:{maxHeight:"calc(100vh - 90px)"},children:a().map(r=>e.jsx(v,{nt:r}))})}function _(){const{notifications:a,setNotifications:t}=j(),{getCaixaDeEntrada:r}=E(),{open:c}=P(),o=s=>{const l=[...a];for(let d=0;d<l.length;d++)l[d].id===s&&(l[d].read=!0);t(l)},n=(s,l)=>{s.stopPropagation();const w=[...a].filter(y=>y.id!==l);t(w)},i=s=>{N.Chat("openChatBottom",s.user_id)},m=s=>e.jsxs("div",{className:"flex justify-start hoverShadown cursor-pointer p-2 border border-base-200 rounded-lg w-full",onClick:()=>i(s),style:{borderStyle:"outset"},children:[!s.read&&e.jsx("span",{className:"flex items-center pr-1",children:e.jsx(h,{className:"w-2 h-2 text-[var(--primaria)]"})}),e.jsxs("div",{className:"flex flex-col gap-2",onClick:()=>s.read?null:o(s.id),children:[e.jsx("span",{className:"notifyMaxSpace w-[250px]",children:s.title}),e.jsxs("span",{className:"text-xs",children:[s.date," at ",s.time]})]}),e.jsx("div",{className:"flex justify-end items-center w-full",onClick:d=>n(d,s.id),children:e.jsx("span",{className:"pulse",children:e.jsx(g,{className:"w-5 h-5"})})})]});return e.jsx("div",{className:"overflow-auto",style:{maxHeight:"calc(100vh - 90px)"},children:e.jsx("div",{className:"grid gap-2 pt-2",children:r().map(s=>s.viewer?e.jsx(v,{nt:s}):s.timeOut?m(s):null)})})}function R(){const{notifications:a,setNotifications:t}=j(),r=(i,m)=>{i.stopPropagation();const s=[...a].filter(l=>l.id!==m);t(s)},c=i=>{N.Chat("openChatBottom",i.user_id)},o=i=>e.jsxs("div",{className:"flex justify-between hoverShadown cursor-pointer p-2 border border-base-200 rounded-lg",style:{borderStyle:"outset"},onClick:()=>c(i),children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"notifyMaxSpace w-[250px]",children:i.title}),e.jsxs("span",{className:"text-[12px]",children:[i.date," at ",i.time]})]}),e.jsx("div",{className:"flex justify-center items-center pulse",onClick:p=>r(p,i.id),children:e.jsx(g,{className:"w-5 h-5"})})]});return e.jsx("div",{className:"overflow-auto",style:{maxHeight:"calc(100vh - 180px)"},children:e.jsx("div",{className:"grid gap-2 pt-2",children:a.slice().reverse().map(i=>i.timeOut?null:o(i))})})}function F(){const{language:a,idioma:t}=x(),r={pt:["Ajustes no layout para compatibilidade com as últimas atualizações do WhatsApp","Adicionada funcionalidade para ocultar abas no CRM","Adicionado menu de configuração das abas no CRM","Melhorias no envio de agendamentos"],en:["Layout adjustments for compatibility with the latest WhatsApp updates","Added functionality to hide tabs in the CRM","Added configuration menu for CRM tabs","Improvements in scheduled message delivery"],es:["Ajustes en el diseño para compatibilidad con las últimas actualizaciones de WhatsApp","Funcionalidad añadida para ocultar pestañas en el CRM","Menú de configuración añadido para las pestañas del CRM","Mejoras en el envío de programaciones"]};return e.jsx("div",{className:"grid gap-2 p-2 overflow-auto",style:{maxHeight:"calc(100vh - 180px)"},children:e.jsxs("div",{className:"border border-base200 p-2 rounded-lg w-full",style:{borderStyle:"outset"},children:[e.jsxs(f,{children:[a.atualizacao," ",S.version]}),e.jsx("div",{className:"pt-2",children:e.jsx("ul",{style:{listStyle:"inside"},children:r[t].map((o,n)=>e.jsx("li",{className:"marker:text-[var(--primaria)] text-sm",children:o},n))})})]})})}function ne(){const[a,t]=u.useState("Entrada"),[r,c]=u.useState(e.jsx(e.Fragment,{})),{language:o}=x();u.useEffect(()=>{switch(a){case"Comunicado":c(e.jsx(T,{}));break;case"Atualizacao":c(e.jsx(F,{}));break;case"Pendentes":c(e.jsx(R,{}));break;case"Entrada":default:c(e.jsx(_,{}));break}},[a]);const n=e.jsx("header",{children:e.jsxs("div",{className:"tabs tabs-bordered",children:[e.jsxs("label",{className:"tab "+(a==="Entrada"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Entrada",children:[e.jsx("span",{children:"Inbox"}),e.jsx("input",{id:"Entrada",type:"checkbox",checked:a==="Entrada",onChange:()=>t("Entrada"),className:"hidden"})]}),e.jsxs("label",{className:"tab "+(a==="Comunicado"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Comunicado",children:[e.jsx("span",{children:o.comunicado}),e.jsx("input",{id:"Comunicado",type:"checkbox",checked:a==="Comunicado",onChange:()=>t("Comunicado"),className:"hidden"})]}),e.jsxs("label",{className:"tab "+(a==="Atualizacao"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Atualizacao",children:[e.jsx("span",{children:o.atualizacoes}),e.jsx("input",{id:"Atualizacao",type:"checkbox",checked:a==="Atualizacao",onChange:()=>t("Atualizacao"),className:"hidden"})]}),e.jsxs("label",{className:"tab "+(a==="Pendentes"?"tab-active !border-[var(--primaria)]":""),htmlFor:"Pendentes",children:[e.jsx("span",{children:o.notificacoesPendentes}),e.jsx("input",{id:"Pendentes",type:"checkbox",checked:a==="Pendentes",onChange:()=>t("Pendentes"),className:"hidden"})]})]})});return e.jsxs("div",{children:[e.jsx(f,{children:o.notifications}),e.jsxs("div",{className:"px-2 pt-2",children:[n,r]})]})}export{ne as default};
